{"ast":null,"code":"var _jsxFileName = \"D:\\\\ag lab\\\\demo\\\\my-react-app\\\\src\\\\components\\\\dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [animals, setAnimals] = useState([]);\n  const [newAnimal, setNewAnimal] = useState({\n    name: '',\n    description: ''\n  });\n  const [selectedImage, setSelectedImage] = useState(null);\n\n  // Fetch animals on component load\n  useEffect(() => {\n    fetchAnimals();\n  }, []);\n  const fetchAnimals = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/animals/current');\n      setAnimals(response.data);\n    } catch (error) {\n      console.error('Error fetching animals:', error);\n    }\n  };\n  const handleInputChange = e => {\n    setNewAnimal({\n      ...newAnimal,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleImageChange = e => {\n    setSelectedImage(e.target.files[0]);\n  };\n  const handleAddAnimal = async () => {\n    if (!newAnimal.name || !newAnimal.description || !selectedImage) {\n      alert('Please fill out all fields and select an image.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('name', newAnimal.name);\n    formData.append('description', newAnimal.description);\n    formData.append('image', selectedImage);\n    try {\n      await axios.post('http://localhost:5000/api/animals', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      fetchAnimals();\n      setNewAnimal({\n        name: '',\n        description: ''\n      });\n      setSelectedImage(null);\n    } catch (error) {\n      console.error('Error adding animal:', error);\n    }\n  };\n  const handleDeleteAnimal = async id => {\n    try {\n      await axios.delete(`http://localhost:5000/api/animals/${id}`);\n      fetchAnimals();\n    } catch (error) {\n      console.error('Error deleting animal:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Animal Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-animal-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Name\",\n        value: newAnimal.name,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        placeholder: \"Description\",\n        value: newAnimal.description,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddAnimal,\n        children: \"Add Animal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animal-list\",\n      children: animals.map(animal => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animal-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/api/images/${animal.image_url}`,\n          alt: animal.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: animal.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: animal.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteAnimal(animal.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)]\n      }, animal.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"XBftx1C+RHtZ24uX/EWB3ZDir10=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Dashboard","_s","animals","setAnimals","newAnimal","setNewAnimal","name","description","selectedImage","setSelectedImage","fetchAnimals","response","get","data","error","console","handleInputChange","e","target","value","handleImageChange","files","handleAddAnimal","alert","formData","FormData","append","post","headers","handleDeleteAnimal","id","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","map","animal","src","image_url","alt","_c","$RefreshReg$"],"sources":["D:/ag lab/demo/my-react-app/src/components/dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n    const [animals, setAnimals] = useState([]);\r\n    const [newAnimal, setNewAnimal] = useState({ name: '', description: '' });\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n    // Fetch animals on component load\r\n    useEffect(() => {\r\n        fetchAnimals();\r\n    }, []);\r\n\r\n    const fetchAnimals = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/animals/current');\r\n            setAnimals(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching animals:', error);\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setNewAnimal({ ...newAnimal, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleImageChange = (e) => {\r\n        setSelectedImage(e.target.files[0]);\r\n    };\r\n\r\n    const handleAddAnimal = async () => {\r\n        if (!newAnimal.name || !newAnimal.description || !selectedImage) {\r\n            alert('Please fill out all fields and select an image.');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('name', newAnimal.name);\r\n        formData.append('description', newAnimal.description);\r\n        formData.append('image', selectedImage);\r\n\r\n        try {\r\n            await axios.post('http://localhost:5000/api/animals', formData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            });\r\n            fetchAnimals();\r\n            setNewAnimal({ name: '', description: '' });\r\n            setSelectedImage(null);\r\n        } catch (error) {\r\n            console.error('Error adding animal:', error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteAnimal = async (id) => {\r\n        try {\r\n            await axios.delete(`http://localhost:5000/api/animals/${id}`);\r\n            fetchAnimals();\r\n        } catch (error) {\r\n            console.error('Error deleting animal:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <h2>Animal Dashboard</h2>\r\n            <div className=\"add-animal-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    value={newAnimal.name}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    placeholder=\"Description\"\r\n                    value={newAnimal.description}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input type=\"file\" onChange={handleImageChange} />\r\n                <button onClick={handleAddAnimal}>Add Animal</button>\r\n            </div>\r\n            <div className=\"animal-list\">\r\n                {animals.map((animal) => (\r\n                    <div key={animal.id} className=\"animal-item\">\r\n                        <img src={`http://localhost:5000/api/images/${animal.image_url}`} alt={animal.name} />\r\n                        <h3>{animal.name}</h3>\r\n                        <p>{animal.description}</p>\r\n                        <button onClick={() => handleDeleteAnimal(animal.id)}>Delete</button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}